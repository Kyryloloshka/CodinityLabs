<template>
  <div class="space-y-6">
    <div class="bg-theme-card shadow rounded-lg p-6 border border-theme-primary">
      <h2 class="text-xl font-semibold text-theme-primary mb-4">–û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è</h2>
      <div class="prose max-w-none">
        <p class="text-theme-primary whitespace-pre-wrap">{{ assignment.description }}</p>
        
        <div v-if="assignment.settings && showSettings" class="mt-4 pt-4 border-t border-theme-secondary">
          <div class="flex flex-wrap gap-4 text-sm text-theme-secondary">
            <span>‚è± {{ (assignment.settings.timeout / 1000).toFixed(1) }}—Å</span>
            <span>üìù {{ assignment.settings.maxAttempts === null ? '–ù–µ–æ–±–º–µ–∂–µ–Ω–æ –ø–æ–¥–∞–Ω—å' : `–ú–∞–∫—Å. ${assignment.settings.maxAttempts} –ø–æ–¥–∞–Ω—å` }}</span>
            <span>üìä {{ assignment.settings.passingThreshold }}% –¥–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è</span>
            <span>{{ assignment.settings.allowPartialScore ? '‚úÖ' : '‚ùå' }} —á–∞—Å—Ç–∫–æ–≤—ñ –±–∞–ª–∏</span>
            <span>{{ assignment.settings.strictMode ? 'üîí' : 'üîì' }} {{ assignment.settings.strictMode ? '—Å—Ç—Ä–æ–≥–∏–π' : '–∑–≤–∏—á–∞–π–Ω–∏–π' }} —Ä–µ–∂–∏–º</span>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-theme-card shadow rounded-lg p-6 border border-theme-primary">
      <h2 class="text-xl font-semibold text-theme-primary mb-4">–¢–µ—Å—Ç–æ–≤—ñ –≤–∏–ø–∞–¥–∫–∏</h2>
      <div class="grid gap-4">
        <div
          v-for="(testCase, index) in assignment.testCases"
          :key="testCase.id"
          class="border border-theme-primary rounded-lg p-4 bg-theme-secondary"
        >
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-medium text-theme-primary">–¢–µ—Å—Ç {{ index + 1 }}</h3>
            <UBadge color="primary" variant="subtle">–¢–µ—Å—Ç–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫</UBadge>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
            <div>
              <label class="block text-sm font-medium text-theme-secondary mb-1">–û–ø–∏—Å</label>
              <div class="bg-theme-input p-2 rounded border border-theme-primary text-theme-primary">{{ testCase.description }}</div>
            </div>
            <div>
              <label class="block text-sm font-medium text-theme-secondary mb-1">–í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ</label>
              <div class="bg-theme-input p-2 rounded border border-theme-primary font-mono text-theme-primary">{{ testCase.input }}</div>
            </div>
            <div>
              <label class="block text-sm font-medium text-theme-secondary mb-1">–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</label>
              <div class="bg-theme-input p-2 rounded border border-theme-primary font-mono text-theme-primary">{{ testCase.expected }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
interface Props {
  assignment: any
  showSettings?: boolean
}

withDefaults(defineProps<Props>(), {
  showSettings: false
})
</script> 